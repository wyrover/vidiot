#ifndef FRAME_BLENDER_H
#define FRAME_BLENDER_H

#include "VideoFrame.h"
#include <boost/noncopyable.hpp>

namespace model {

class FrameBlender : public boost::noncopyable
{
public:

    //////////////////////////////////////////////////////////////////////////
    // INITIALIZATION
    //////////////////////////////////////////////////////////////////////////

    FrameBlender();

    virtual ~FrameBlender();

    //////////////////////////////////////////////////////////////////////////
    // ADD TRACKS TO BE BLENDED
    //////////////////////////////////////////////////////////////////////////

    void add(VideoFramePtr frame);

    //////////////////////////////////////////////////////////////////////////
    // BLEND
    //////////////////////////////////////////////////////////////////////////

    VideoFramePtr blend();

private:

    //////////////////////////////////////////////////////////////////////////
    // MEMBERS
    //////////////////////////////////////////////////////////////////////////

    VideoFrames mFrames;

    //////////////////////////////////////////////////////////////////////////
    // LOGGING
    //////////////////////////////////////////////////////////////////////////

    friend std::ostream& operator<<( std::ostream& os, const FrameBlender& obj );

};

} // namespace

#endif // FRAME_BLENDER_H