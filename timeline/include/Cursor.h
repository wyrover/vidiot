#ifndef CURSOR_H
#define CURSOR_H

#include <wx/event.h>
#include "Part.h"

namespace gui { class PlaybackPositionEvent; }

namespace gui { namespace timeline {

class Cursor
    :   public wxEvtHandler // MUST BE FIRST INHERITED CLASS FOR WXWIDGETS EVENTS TO BE RECEIVED.
    ,   public Part
{
public:

    //////////////////////////////////////////////////////////////////////////
    // INITIALIZATION METHODS
    //////////////////////////////////////////////////////////////////////////

    Cursor();

    virtual void init();

    virtual ~Cursor();

    //////////////////////////////////////////////////////////////////////////
    // GET/SET
    //////////////////////////////////////////////////////////////////////////

    long getPosition() const;
    void setPosition(long position);
    void moveCursorOnUser(long position);
    void moveCursorOnPlayback(long pts);

    //////////////////////////////////////////////////////////////////////////
    // DRAW
    //////////////////////////////////////////////////////////////////////////

    void draw(wxDC& dc) const;

private:

    long mCursorPosition;

    //////////////////////////////////////////////////////////////////////////
    // EVENTS
    //////////////////////////////////////////////////////////////////////////

    void onPlaybackPosition(PlaybackPositionEvent& event);
};

}} // namespace

#endif // CURSOR_H
